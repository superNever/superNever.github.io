<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>knockout.js--observableArray | supernever</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">knockout.js--observableArray</h1><a id="logo" href="/.">supernever</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">knockout.js--observableArray</h1><div class="post-meta">Jun 6, 2016<span> | </span><span class="category"><a href="/categories/前端/">前端</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>先来一段英文装装13:<br>If you want to detect and respond to changes on one object, you’d use observables. If you want to detect and respond to changes of a collection of things, use an observableArray. This is useful in many scenarios where you’re displaying or editing multiple values and need repeated sections of UI to appear and disappear as items are added and removed.<br>我不会告诉你，这是官网的原文。。。。。<br><a id="more"></a></p>
<h3 id="什么意思呢"><a href="#什么意思呢" class="headerlink" title="什么意思呢"></a>什么意思呢</h3><p>哈哈哈，我相信前端小基佬们都知道什么意思，也就是ko给我们不单单提供了一个ko.observable(),用于单一绑定；而且也给我们提供了一个直接绑定数组的监听，对，就是这货ko.observableArray();</p>
<h3 id="那到底怎么用呢"><a href="#那到底怎么用呢" class="headerlink" title="那到底怎么用呢"></a>那到底怎么用呢</h3><h2 id="直接来栗子"><a href="#直接来栗子" class="headerlink" title="直接来栗子"></a>直接来栗子</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre>$</pre></td><td class="code"><pre><div class="line">var myObservableArray = ko.observableArray();    // 初始化一个空数组</div><div class="line">myObservableArray.push(<span class="string">'Some value'</span>);			 //塞值</div></pre></td></tr></table></figure>
<h2 id="当然你也可以直接这样赋值"><a href="#当然你也可以直接这样赋值" class="headerlink" title="当然你也可以直接这样赋值"></a>当然你也可以直接这样赋值</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre>$</pre></td><td class="code"><pre><div class="line">var anotherObservableArray = ko.observableArray([</div><div class="line">    &#123; name: <span class="string">"Bungle"</span>, <span class="built_in">type</span>: <span class="string">"Bear"</span> &#125;,</div><div class="line">    &#123; name: <span class="string">"George"</span>, <span class="built_in">type</span>: <span class="string">"Hippo"</span> &#125;,</div><div class="line">    &#123; name: <span class="string">"Zippy"</span>, <span class="built_in">type</span>: <span class="string">"Unknown"</span> &#125;</div><div class="line">]);</div></pre></td></tr></table></figure>
<h2 id="那么到底在项目中怎么用呢"><a href="#那么到底在项目中怎么用呢" class="headerlink" title="那么到底在项目中怎么用呢"></a>那么到底在项目中怎么用呢</h2><p>还是一样，这次来一个表单演示(view)：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre>$</pre></td><td class="code"><pre><div class="line"><span class="arrow-left">&lt;</span>form data-bind=<span class="string">"submit: addItem"</span><span class="arrow-right">&gt;</span></div><div class="line">    New item:</div><div class="line">    <span class="arrow-left">&lt;</span>input data-bind=<span class="string">'value: itemToAdd, valueUpdate: "afterkeydown"'</span> /<span class="arrow-right">&gt;</span></div><div class="line">    <span class="arrow-left">&lt;</span>button <span class="built_in">type</span>=<span class="string">"submit"</span> data-bind=<span class="string">"enable: itemToAdd().length <span class="arrow-right">&gt;</span> 0"</span><span class="arrow-right">&gt;</span>Add<span class="arrow-left">&lt;</span>/button<span class="arrow-right">&gt;</span></div><div class="line">    <span class="arrow-left">&lt;</span>p<span class="arrow-right">&gt;</span>Your items:<span class="arrow-left">&lt;</span>/p<span class="arrow-right">&gt;</span></div><div class="line">    <span class="arrow-left">&lt;</span>select multiple=<span class="string">"multiple"</span> width=<span class="string">"50"</span> data-bind=<span class="string">"options: items"</span><span class="arrow-right">&gt;</span> <span class="arrow-left">&lt;</span>/select<span class="arrow-right">&gt;</span></div><div class="line"><span class="arrow-left">&lt;</span>/form<span class="arrow-right">&gt;</span></div></pre></td></tr></table></figure></p>
<p>js代码（view model）怎么写呢：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre>$</pre></td><td class="code"><pre><div class="line">var SimpleListModel = <span class="keyword">function</span>(items) &#123;</div><div class="line">    this.items = ko.observableArray(items);</div><div class="line">    this.itemToAdd = ko.observable(<span class="string">""</span>);</div><div class="line">    this.addItem = <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">        <span class="keyword">if</span> (this.itemToAdd() != <span class="string">""</span>) &#123;</div><div class="line">            this.items.push(this.itemToAdd()); //增加item。改变item通过修改observablearray促使相关的UI更新。</div><div class="line">            this.itemToAdd(<span class="string">""</span>); // 清空text框，因为他还要被itemToAdd监听</div><div class="line">        &#125;</div><div class="line">    &#125;.bind(this);  // 确保this总是绑定在view model上</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">ko.applyBindings(new SimpleListModel([<span class="string">"Alpha"</span>, <span class="string">"Beta"</span>, <span class="string">"Gamma"</span>]));</div></pre></td></tr></table></figure></p>
<p>还用分析一下嘛？好吧，不给分析，请看详细演示栗子。<a href="http://jsbin.com/fiyivo/edit?html,output" target="_blank" rel="external">戳我嘛</a><br>不知道小屌们对<font color="red"><strong>data-bind</strong></font>，是否感到好奇呢？戳回首页看看有没有你的答案呢？</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://www.supernever.com/2016/06/06/ko-observableArray/" data-id="ciy8ea2qw000zixfyvdloi0c7" class="article-share-link">分享到</a><div class="tags"><a href="/tags/javascript/">javascript</a><a href="/tags/knockout-js/">knockout.js</a></div><div class="post-nav"><a href="/2016/06/10/knockoutjs-data-bind/" class="pre">knockoutjs--data-bind</a><a href="/2016/06/06/ko-introduction/" class="next">knockout.js--简单介绍</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://www.supernever.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/knockout-js/" style="font-size: 15px;">knockout.js</a> <a href="/tags/DOM/" style="font-size: 15px;">DOM</a> <a href="/tags/getBoundingClientRect/" style="font-size: 15px;">getBoundingClientRect</a> <a href="/tags/carousel/" style="font-size: 15px;">carousel</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/js冒泡/" style="font-size: 15px;">js冒泡</a> <a href="/tags/js-es6/" style="font-size: 15px;">js-es6</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/css-selector/" style="font-size: 15px;">css-selector</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/最基本操作/" style="font-size: 15px;">最基本操作</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/jquery-noConflict/" style="font-size: 15px;">jquery-noConflict</a> <a href="/tags/代码片段/" style="font-size: 15px;">代码片段</a> <a href="/tags/DOM-EDIT/" style="font-size: 15px;">DOM-EDIT</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/media-query/" style="font-size: 15px;">media-query</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/mime/" style="font-size: 15px;">mime</a> <a href="/tags/js-proto/" style="font-size: 15px;">js__proto__</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/react-life/" style="font-size: 15px;">react-life</a> <a href="/tags/regexp/" style="font-size: 15px;">regexp</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/webpack-howto/" style="font-size: 15px;">webpack-howto</a> <a href="/tags/yarn/" style="font-size: 15px;">yarn</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/可视化格式模型/" style="font-size: 15px;">可视化格式模型</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/01/19/yarn/">yarn</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/04/可视化格式模型/">可视化格式模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/04/media-query/">media-query</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/31/carousel/">carousel</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/react-life/">react-life</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/31/regexp/">regexp</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/22/webpack-howto/">webpack-howto</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/22/webpack/">webpack</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/jquery-noConflict/">jquery-noConflict</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/DOM-EDIT/">DOM-EDIT</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 相关链接</i></div><a href="http://www.github.com/supernever" title="github" target="_blank" class="links-github"></a><a href="http://weibo.com/u/3282385447?refer_flag=1001030102_" title="weibo" target="_blank" class="links-weibo"></a><a href="https://www.zhihu.com/people/supernever-65/activities" title="zhihu" target="_blank" class="links-zhihu"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018. All Rights Reserved版权所有
 京ICP备17005055号-1</div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>